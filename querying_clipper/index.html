
<!DOCTYPE html>
<html lang="en" class="js csstransforms3d">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1, user-scalable=no">
    <meta name="generator" content="Hugo 0.20.5" />
    <meta name="description" content="">


    <link rel="shortcut icon" href="/images/favicon.png" type="image/x-icon" />

    
    <title>Querying Clipper</title>
    <link href="http://clipper.ai//css/nucleus.css" rel="stylesheet">
    <link href="http://clipper.ai//css/font-awesome.min.css" rel="stylesheet">
    <link href="http://clipper.ai//css/hybrid.css" rel="stylesheet">
    <link href="http://clipper.ai//css/featherlight.min.css" rel="stylesheet">
    <link href="http://clipper.ai//css/perfect-scrollbar.min.css" rel="stylesheet">
    <link href="http://clipper.ai//css/horsey.css" rel="stylesheet">
    <link href="http://clipper.ai//css/theme.css" rel="stylesheet">
    <link href="http://clipper.ai//css/hugo-theme.css" rel="stylesheet">
    <script src="http://clipper.ai//js/jquery-2.x.min.js"></script>
    <style type="text/css">:root #header + #content > #left > #rlblock_left
    {display:none !important;}</style>
    

  </head>
  <body class="" data-url="/querying_clipper/">
    
    <nav id="sidebar">
  <div id="header-wrapper">
    <div id="header">
      <a id="logo" href="http://clipper.ai">
  <img id="grav-logo" src="/images/clipper-logo.png">
  </img>
</a>

    </div>
    
</div>


  <div class="highlightable">
    <ul class="topics">
      
        
        
          
          
            
          
        
          
          
            
          
        
          
          
            
          
        
          
          
            
          
        
          
          
            
          
        
          
          
            
          
        
          
          
            
          
        
        
        
          
        
          
        
          
        
          
        
          
        
          
        
          
        
      
      
      
      

      
      
      
        
          
        
      
      
      

      <li class="dd-item  " data-nav-id="/overview/">
        <a href="/overview/">
          <span>
            
              
            
             Getting Started
            
           </span>
        </a>
        
        <ul>
          
            <li class="dd-item " data-nav-id="/overview/quickstart/">
              <a href="/overview/quickstart/">
                <span>Quickstart     </i></span>
              </a>
            </li>
          
        </ul>
        
      </li>
      
      
      

      
      
      
        
          
        
      
      
      

      <li class="dd-item active parent" data-nav-id="/querying_clipper/">
        <a href="/querying_clipper/">
          <span>
            
              
            
             Querying Clipper
            
           </span>
        </a>
        
      </li>
      
      
      

      
      
      
        
          
        
      
      
      

      <li class="dd-item  " data-nav-id="/documentation/">
        <a href="/documentation/">
          <span>
            
              
            
             Documentation
            
           </span>
        </a>
        
        <ul>
          
            <li class="dd-item " data-nav-id="/documentation/clipper_manager/">
              <a href="/documentation/clipper_manager/">
                <span>Managing a Clipper Instance     </i></span>
              </a>
            </li>
          
            <li class="dd-item " data-nav-id="/documentation/python_model_deployment/">
              <a href="/documentation/python_model_deployment/">
                <span>Python Model Deployment     </i></span>
              </a>
            </li>
          
        </ul>
        
      </li>
      
      
      

      
      
      
        
          
        
      
      
      

      <li class="dd-item  " data-nav-id="/examples/">
        <a href="/examples/">
          <span>
            
              
            
             Examples
            
           </span>
        </a>
        
        <ul>
          
            <li class="dd-item " data-nav-id="/examples/tutorial/">
              <a href="/examples/tutorial/">
                <span>Image Classification Tutorial     </i></span>
              </a>
            </li>
          
            <li class="dd-item " data-nav-id="/examples/spark-demo/">
              <a href="/examples/spark-demo/">
                <span>Deploy a PySpark Model     </i></span>
              </a>
            </li>
          
        </ul>
        
      </li>
      
      
      

      
      
      
        
          
        
      
      
      

      <li class="dd-item  " data-nav-id="/contributing/">
        <a href="/contributing/">
          <span>
            
              
            
             Contributing
            
           </span>
        </a>
        
      </li>
      
      
      

      
      
      
        
          
        
      
      
      

      <li class="dd-item  " data-nav-id="/roadmap/">
        <a href="/roadmap/">
          <span>
            
              
            
             Status and Roadmap
            
           </span>
        </a>
        
      </li>
      
      
      

      
      
      
        
          
        
      
      
      

      <li class="dd-item  " data-nav-id="/design_docs/">
        <a href="/design_docs/">
          <span>
            
              
            
             Additional Resources
            
           </span>
        </a>
        
        <ul>
          
            <li class="dd-item " data-nav-id="/design_docs/container_implementation/">
              <a href="/design_docs/container_implementation/">
                <span>Container Implementation     </i></span>
              </a>
            </li>
          
        </ul>
        
      </li>
      
      
    </ul>
    <hr>
     
    <section id="footer">
      <p>Built with <a href="http://gohugo.io/">Hugo</a></p>

    </section>
  </div>
</nav>

        <section id="body">
        <div id="overlay"></div>

        <div class="padding highlightable">

            <div id="top-bar">
              
              <div id="breadcrumbs" itemscope="" itemtype="http://data-vocabulary.org/Breadcrumb">
                  <span id="sidebar-toggle-span">
                      <a href="#" id="sidebar-toggle" data-sidebar-toggle="">
                        <i class="fa fa-bars"></i>
                      </a>
                  </span>
                
                
                  
                  
                  
                    
                    
                  
                
                <span itemprop="title"> Querying Clipper</span>
              </div>
              

            </div>
            
              <div id="body-inner">
                
                <h1>Querying Clipper</h1>
                



<h2 id="sending-a-prediction-request">Sending a Prediction Request</h2>

<p>Clipper exposes a REST prediction endpoint for each application you register in Clipper that you
can use to request predictions.</p>

<p>Each application is associated with exactly one model, and any updates to that model (e.g. by
deploying a new version of the model) will automatically be performed and new requests to that
application will query the new version of the model.</p>

<p>The REST endpoint for an application is located at</p>

<pre><code>http://&lt;clipper-hostname&gt;:1337/&lt;application-name&gt;/predict
</code></pre>

<p>This REST endpoint expects HTTP POST requests with the <code>Content-type</code> header field
set to <code>application/json</code> and the body as a JSON string with the following format</p>

<pre><code class="language-json">  {
   &quot;uid&quot; : 0,
   &quot;input&quot; := [double] | [int] | [byte] | [float] | string 
  }
</code></pre>

<div class="notices warning" ><p>The <code>uid</code> field must always be set to user 0. Clipper will support personalized predictions
in the future, but currently does not and requires that all prediction requests be
associated with user ID 0 (the default user).</p>
</div>


<p>The <code>&quot;input&quot;</code> field requires that the type of the value matches the
input type specified when registering the application. If you aren&rsquo;t sure what input
type your application expects, you can use the Clipper manager to inspect the application
from the Python REPL.</p>

<pre><code class="language-py"># after creating a clipper_manager.Clipper() instance:
print(clipper.get_app_info(&quot;my_application_name&quot;))
</code></pre>

<p>For example, if you registered an application with input type &ldquo;doubles&rdquo;, prediction
requests must provide a list of doubles as the value associated with the &ldquo;input&rdquo; key in
the JSON request object.</p>

<div class="notices note" ><p>If your application was registered with input type &ldquo;strings&rdquo;, then the
&ldquo;input&rdquo; must be a single string, not a list of &ldquo;strings&rdquo;.</p>
</div>


<p>You can find examples of querying Clipper in the <code>examples/</code> directory of
the Clipper repo.</p>

<ul>
<li><a href="https://github.com/ucbrise/clipper/blob/develop/examples/basic_query/example_client.py">A simple example</a></li>
</ul>

<!-- ## Parsing the Prediction Response -->

<!--  -->

<!-- If the request was successful, you  -->


      
      
      </div>
    </div>

    

    <div id="navigation">
        
        
        
    </div>

    </section>
    <div style="left: -1000px; overflow: scroll; position: absolute; top: -1000px; border: none; box-sizing: content-box; height: 200px; margin: 0px; padding: 0px; width: 200px;">
      <div style="border: none; box-sizing: content-box; height: 200px; margin: 0px; padding: 0px; width: 200px;"></div>
    </div>
    <script src="http://clipper.ai//js/clipboard.min.js"></script>
    <script src="http://clipper.ai//js/perfect-scrollbar.min.js"></script>
    <script src="http://clipper.ai//js/perfect-scrollbar.jquery.min.js"></script>
    <script src="http://clipper.ai//js/jquery.sticky-kit.min.js"></script>
    <script src="http://clipper.ai//js/featherlight.min.js"></script>
    <script src="http://clipper.ai//js/html5shiv-printshiv.min.js"></script>
    <script src="http://clipper.ai//js/highlight.pack.js"></script>
    <script>hljs.initHighlightingOnLoad();</script>
    <script src="http://clipper.ai//js/modernizr.custom.71422.js"></script>
    <script src="http://clipper.ai//js/learn.js"></script>
    <script src="http://clipper.ai//js/hugo-learn.js"></script>
    
<script>
window.ga=window.ga||function(){(ga.q=ga.q||[]).push(arguments)};ga.l=+new Date;
ga('create', 'UA-99816998-1', 'auto');
ga('send', 'pageview');
</script>
<script async src='//www.google-analytics.com/analytics.js'></script>


  </body>
</html>


